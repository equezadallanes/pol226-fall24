<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.544">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>POL 226: Approaches to Political Science - POL 226: Approaches to Political Science and International Relations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">POL 226: Approaches to Political Science</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./content/index.html"> 
<span class="menu-text">Content</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./assignment/index.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resource/index.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#syllabus" id="toc-syllabus" class="nav-link active" data-scroll-target="#syllabus">Syllabus</a>
  <ul class="collapse">
  <li><a href="#course-overview" id="toc-course-overview" class="nav-link" data-scroll-target="#course-overview">Course Overview</a></li>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link" data-scroll-target="#learning-outcomes">Learning Outcomes</a></li>
  <li><a href="#required-textbook" id="toc-required-textbook" class="nav-link" data-scroll-target="#required-textbook">Required Textbook</a></li>
  <li><a href="#software" id="toc-software" class="nav-link" data-scroll-target="#software">Software</a></li>
  <li><a href="#work-and-assessment" id="toc-work-and-assessment" class="nav-link" data-scroll-target="#work-and-assessment">Work and Assessment</a>
  <ul class="collapse">
  <li><a href="#course-expectations" id="toc-course-expectations" class="nav-link" data-scroll-target="#course-expectations">Course Expectations</a></li>
  <li><a href="#course-workload" id="toc-course-workload" class="nav-link" data-scroll-target="#course-workload">Course Workload</a></li>
  <li><a href="#assignments-and-grades" id="toc-assignments-and-grades" class="nav-link" data-scroll-target="#assignments-and-grades">Assignments and grades</a></li>
  </ul></li>
  <li><a href="#collaboration-policy" id="toc-collaboration-policy" class="nav-link" data-scroll-target="#collaboration-policy">Collaboration Policy</a></li>
  <li><a href="#communication-policy" id="toc-communication-policy" class="nav-link" data-scroll-target="#communication-policy">Communication Policy</a></li>
  <li><a href="#regrading-policy" id="toc-regrading-policy" class="nav-link" data-scroll-target="#regrading-policy">Regrading Policy</a></li>
  <li><a href="#honor-code" id="toc-honor-code" class="nav-link" data-scroll-target="#honor-code">Honor Code</a></li>
  <li><a href="#course-accessibility-and-academic-accommodations" id="toc-course-accessibility-and-academic-accommodations" class="nav-link" data-scroll-target="#course-accessibility-and-academic-accommodations">Course Accessibility and Academic Accommodations</a></li>
  <li><a href="#wellbeing-and-mental-health" id="toc-wellbeing-and-mental-health" class="nav-link" data-scroll-target="#wellbeing-and-mental-health">Wellbeing and Mental Health</a></li>
  <li><a href="#title-ix" id="toc-title-ix" class="nav-link" data-scroll-target="#title-ix">Title IX</a></li>
  <li><a href="#diversity-and-inclusion" id="toc-diversity-and-inclusion" class="nav-link" data-scroll-target="#diversity-and-inclusion">Diversity and Inclusion</a></li>
  <li><a href="#chosen-names-and-personal-pronouns" id="toc-chosen-names-and-personal-pronouns" class="nav-link" data-scroll-target="#chosen-names-and-personal-pronouns">Chosen Names and Personal Pronouns</a></li>
  <li><a href="#syllabus-change-policy" id="toc-syllabus-change-policy" class="nav-link" data-scroll-target="#syllabus-change-policy">Syllabus Change Policy</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="POL226_syllabus.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">POL 226: Approaches to Political Science and International Relations</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="grid course-details course-details-smaller">
<section id="course-details" class="level3 g-col-6">
<h3 class="anchored" data-anchor-id="course-details">Course details</h3>
<ul>
<li><i class="fa-solid fa-calendar" aria-hidden="true"></i> &nbsp; MWF</li>
<li><i class="fa-solid fa-calendar-alt" aria-hidden="true"></i> &nbsp; August 28–December 18, 2024</li>
<li><i class="fa-solid fa-clock" aria-hidden="true"></i> &nbsp; 9:30 AM – 10:20 AM</li>
<li><i class="fa-solid fa-location-dot" aria-hidden="true"></i> &nbsp; Buttrick Hall, Room 211</li>
</ul>
</section>
<section id="instructor-1" class="level3 g-col-6">
<h3 class="anchored" data-anchor-id="instructor-1">Instructor</h3>
<ul>
<li><i class="fa-solid fa-user" aria-hidden="true"></i> &nbsp; <a href="https://www.equezadallanes.com" target="_blank">Enrique Quezada-Llanes</a></li>
<li><i class="fa-solid fa-university" aria-hidden="true"></i> &nbsp; Buttrick Hall 315</li>
<li><i class="fa-solid fa-envelope" aria-hidden="true"></i> &nbsp; <a href="mailto:equezada@agnesscott.edu" target="_blank">equezada@agnesscott.edu</a></li>
<li><i class="fa-solid fa-university" aria-hidden="true"></i> &nbsp; Office hours: Thursdays 10 am - 12 pm</li>
</ul>
</section>
</div>
<section id="syllabus" class="level1">
<h1>Syllabus</h1>
<p>You can find a PDF version of the syllabus with the weekly schedule on the sidebar of this page.</p>
<section id="course-overview" class="level2">
<h2 class="anchored" data-anchor-id="course-overview">Course Overview</h2>
<p>From consulting firms and social media to public policy and the social sciences, data analysis has become a central tool for how we get answers to our questions of interest. The same is true in political science, where scholars collect and analyze data to predict and explain a variety of political phenomena such as how people vote or the degree to which public policy is influenced by interest groups. In this course, you will learn the necessary programming skills and statistical inference principles to help you think critically about politics and answer important questions. Fortunately, the skills you will learn are also in demand in many industries so they may be useful in your career beyond the classroom.</p>
</section>
<section id="learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="learning-outcomes">Learning Outcomes</h2>
<ul>
<li>Read and understand quantitative research and data</li>
<li>Estimate and interpret the appropriate quantities of interest to answer political science questions</li>
<li>Communicate results from data analysis in a clear manner</li>
<li>Understand and explain fundamental concepts of statistical inference and the limitations of quantitative methods</li>
</ul>
</section>
<section id="required-textbook" class="level2">
<h2 class="anchored" data-anchor-id="required-textbook">Required Textbook</h2>
<ul>
<li>Llaudet, Elena and Kosuke Imai. 2022. <a href="https://press.princeton.edu/books/paperback/9780691199436/data-analysis-for-social-science" target="_blank">Data Analysis for Social Science: A Friendly and Practical Introduction</a>. United States: Princeton University Press.</li>
</ul>
</section>
<section id="software" class="level2">
<h2 class="anchored" data-anchor-id="software">Software</h2>
<ol type="1">
<li>R: <a href="http://www.r-project.org" class="uri" target="_blank">http://www.r-project.org</a></li>
<li>RStudio: <a href="https://posit.co/" class="uri" target="_blank">https://posit.co/</a></li>
</ol>
</section>
<section id="work-and-assessment" class="level2">
<h2 class="anchored" data-anchor-id="work-and-assessment">Work and Assessment</h2>
<section id="course-expectations" class="level3">
<h3 class="anchored" data-anchor-id="course-expectations">Course Expectations</h3>
<p>Students are expected to attend class and participate in class discussions and exercises. I expected you will have completed all readings prior to class and will come prepared with questions.</p>
</section>
<section id="course-workload" class="level3">
<h3 class="anchored" data-anchor-id="course-workload">Course Workload</h3>
<p>This is a 4-credit hour course, meaning that you are expected to spend 12 hours of work each week (including the 3 hours spent in the classroom). This roughly means that you will spend about 2 hours on readings for each class period, and 3 hours each week working on the different assignments (pace yourself!).</p>
</section>
<section id="assignments-and-grades" class="level3">
<h3 class="anchored" data-anchor-id="assignments-and-grades">Assignments and grades</h3>
<p>Final course grades will be assigned as follows:</p>
<div class="centered-table">



<table class="table">
<colgroup>
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 11%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Grade</th>
<th style="text-align: center;">Range</th>
<th style="text-align: left;">Grade</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: center;">93–100%</td>
<td style="text-align: left;">C</td>
<td style="text-align: center;">73–76%</td>
</tr>
<tr class="even">
<td style="text-align: left;">A−</td>
<td style="text-align: center;">90–92%</td>
<td style="text-align: left;">C−</td>
<td style="text-align: center;">70–72%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B+</td>
<td style="text-align: center;">87–89%</td>
<td style="text-align: left;">D+</td>
<td style="text-align: center;">67–69%</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: center;">83–86%</td>
<td style="text-align: left;">D</td>
<td style="text-align: center;">63–66%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B−</td>
<td style="text-align: center;">80–82%</td>
<td style="text-align: left;">D−</td>
<td style="text-align: center;">60–62%</td>
</tr>
<tr class="even">
<td style="text-align: left;">C+</td>
<td style="text-align: center;">77–79%</td>
<td style="text-align: left;">F</td>
<td style="text-align: center;">&lt; 60%</td>
</tr>
</tbody>
</table>
<div>


<p>Final grades will be calculated based on the following components:</p>
<p><strong>Participation (10%)</strong>: All students are expected to be active participants in the class. The participation score will be determined through in-class quizzes and exercises.</p>
<ul>
<li><ins>
<em>Attendance policy:</em>
</ins>
Attendance is part of your participation grade, and while there is no separate grade for attendance it is a prerequisite for in-class participation. That said, to accommodate unforeseeable circumstances, you have two <em>unexcused</em> absences that will not affect your participation grade. Please let the instructor know about any excused absences you anticipate during the semester. It is important to keep up with class material as each portion of the course builds on previous sections.</li>
</ul>
<p><strong>Problem Sets (40%)</strong>: You will complete nine problem sets throughout the semester. These problem sets will help you practice the concepts and data analysis skills we learn in class. You will have about a week to complete each problem set. I encourage you to work together with other students, but the final product should be your own work. Problem sets are due at the beginning of the class period indicated on the schedule.</p>
<p><strong>Midterm and Final Exam (25% each)</strong>: The midterm and final exam will be similar in structure to the weekly problem sets. For these exams, you will be working with some popular survey data that social scientists collect with regularity, such as the General Social Survey and American National Election Study datasets. No collaboration is permitted for the exams. However, students are allowed to use a single letter-sized sheet of hand-written notes (two-sided). Both midterm and final exams will be administered via Canvas.</p>
<p><strong>Extra Credit Opportunity</strong>: There is an additional problem set you can complete for extra credit. This can add a maximum of 3.5 percentage points to your final grade.</p>
</div></div></section>
</section>
<section id="collaboration-policy" class="level2">
<h2 class="anchored" data-anchor-id="collaboration-policy">Collaboration Policy</h2>
<p>Learning how to analyze data can be challenging but it may be easier if you work together. In fact, I encourage you to talk with your peers about the course materials and assignments. That said, each student should do and submit their own work. Collaboration does not mean you end up with the exact same code or answer.</p>
</section>
<section id="communication-policy" class="level2">
<h2 class="anchored" data-anchor-id="communication-policy">Communication Policy</h2>
<p>If you have questions about class in general or about a specific assignment, you can email me or come by my office. You can expect a response within 24 hours (unless you email me on Friday). Students are also more than welcome to attend office hours, as this is time set aside specifically for you. In addition, if my office door is open, feel free to stop by. Please note that I will not be “pre-grading” assignments, but I am happy to answer clarifying questions about them either via email or, preferably, during office hours.</p>
</section>
<section id="regrading-policy" class="level2">
<h2 class="anchored" data-anchor-id="regrading-policy">Regrading Policy</h2>
<p>If a student wishes to appeal a grade, they must do so in writing within one week of receiving their graded assignment back. The student must indicate clearly what part of the assignment’s grading they disagree with, making sure to respond to the instructor’s comments in that section and making their case for why they should not have been deducted points. These requests should be done via email and the subject name should read “POL 226 Regrading request - [Name of assignment].”</p>
</section>
<section id="honor-code" class="level2">
<h2 class="anchored" data-anchor-id="honor-code">Honor Code</h2>
<p>Students are expected to do their own work and cite sources appropriately. Plagiarism will not be tolerated. In other words, students will be held to the standards of the Agnes Scott Honor System to which they agreed when enrolling at this institution. The Agnes Scott College honor code embodies an ideal of character, conduct, and citizenship, and is an important part of the College’s mission and core identity. This applies especially to academic honesty and integrity. Passing off someone else’s work (or Chat GPT’s) as your own represents intellectual fraud and theft and violates the core values of our academic community. To be honorable, you should understand not only what counts as academic dishonesty, but also how to avoid engaging in these practices.</p>
<p>You are responsible for the content of any work submitted for this course. The use of artificial intelligence (AI) to generate a first draft of text or code is permitted, but you must review and revise any AI-generated text or code before submission. AI text generators can be useful tools but they are often prone to factual errors, incorrect or fabricated citations, and misinterpretations of abstract concepts. I neither encourage nor discourage their use, but utilize them with caution.</p>
</section>
<section id="course-accessibility-and-academic-accommodations" class="level2">
<h2 class="anchored" data-anchor-id="course-accessibility-and-academic-accommodations">Course Accessibility and Academic Accommodations</h2>
<p>Agnes Scott College views disabilities as an integral part of the rich diversity of our community and strives to make all learning experiences as accessible as possible. If you are a student who receives academic accommodations through the Office of Accessible Education, please schedule a meeting with me within the first two weeks of classes to discuss how your accommodations will be implemented for this course. During this meeting, you are not expected to disclose any details concerning your disability, though you may discuss these details at your discretion.</p>
<p>If you are a student with a disability—physical, medical, psychological, or learning-specific—and have not connected with Accessible Education to discuss your accessibility needs, please visit the <a href="https://www.agnesscott.edu/academicadvising/accessible-education/index.html" target="_blank">main Office of Accessible Education webpage</a> to learn more about accommodations, helpful resources and support, available through the Office of Accessible Education. Students who register for accommodations during the semester should schedule a meeting with me after accommodations have been approved by the Office of Accessible Education.</p>
</section>
<section id="wellbeing-and-mental-health" class="level2">
<h2 class="anchored" data-anchor-id="wellbeing-and-mental-health">Wellbeing and Mental Health</h2>
<p>The wellbeing and mental health of students is important; if you are having trouble completing your coursework, please reach out to the <a href="https://www.agnesscott.edu/wellnesscenter/index.html" target="_blank">Wellness Center</a>. Agnes Scott College provides cost-free mental health services to help you manage personal challenges that threaten your personal or academic well-being. If you believe you are experiencing unusual amounts of stress, sadness, or anxiety, please contact the Wellness Center and ask about their <a href="https://www.agnesscott.edu/wellnesscenter/counseling/index.html" target="_blank">Counseling and Psychological Services</a>.</p>
</section>
<section id="title-ix" class="level2">
<h2 class="anchored" data-anchor-id="title-ix">Title IX</h2>
<p>Agnes Scott is here to help you if you have experienced any form of sexual harassment or violence, dating or domestic violence, or stalking. Please talk to any faculty or staff member with whom you feel comfortable. Faculty and staff members want to support you and have been trained to help. They will also inform the Title IX office so that you learn about options available to you. If you do not want college administrators to know what you have experienced, you may talk to the chaplain, as well as nurses or counselors in the Wellness Center with complete confidentiality. They will not tell anyone what you share with them unless you give your express permission. You may contact the Title IX Coordinator directly at <a href="mailto:T9Coordinator@agnesscott.edu" class="email" target="_blank">T9Coordinator@agnesscott.edu</a>.</p>
</section>
<section id="diversity-and-inclusion" class="level2">
<h2 class="anchored" data-anchor-id="diversity-and-inclusion">Diversity and Inclusion</h2>
<p>Agnes Scott is a diverse and inclusive community. As one of the most diverse colleges in the nation, ASC is ideally positioned to be the model of a diverse and inclusive community that society can aspire to be. Such diversity raises the intellectual quality of the classroom experience, creating a unique environment for learning to understand and navigate the challenges of our times. By studying, living, and playing together, Agnes Scott College’s remarkably diverse student body hones the habits of mind, skills, and knowledge essential to ethical and innovative leadership in our increasingly heterogeneous and global society. As such, this course adheres to the principles of diversity and inclusion as integral to the Agnes Scott community and respects people from all backgrounds. As a first step, this course affirms people’s decisions about gender expression and identity and will use each other’s preferred names and gender pronouns at all times.</p>
</section>
<section id="chosen-names-and-personal-pronouns" class="level2">
<h2 class="anchored" data-anchor-id="chosen-names-and-personal-pronouns">Chosen Names and Personal Pronouns</h2>
<p>Everyone has the right to be addressed by the name and pronouns that correspond to their gender identity. Rosters do not list gender or pronouns, so you may indicate the pronouns you use so that I don’t make assumptions based on your name and/or appearance/self-presentation (<em>you are not obligated to do so</em>). If you use a chosen name, please let me know. Chosen names and pronouns are to be respected at all times in the classroom. Mistakes in addressing one another may happen, so I encourage an environment of openness to correction and learning. I will not however, tolerate repeated comments which disrespect or antagonize students who have indicated pronouns or a chosen name.</p>
</section>
<section id="syllabus-change-policy" class="level2">
<h2 class="anchored" data-anchor-id="syllabus-change-policy">Syllabus Change Policy</h2>
<p>This syllabus is only a guide for the course and is subject to change with advanced notice.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>